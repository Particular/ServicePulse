<div>
    <hr>
    <ul class="breadcrumb">
        <li>
            <a href="/">Home</a> <span class="divider">/</span>
        </li>
        <li>Custom Checks</li>
    </ul>
    <hr>
</div>
<div class="row-fluid">
    <div class="box span12">
        <div class="box-header" data-original-title>
            <h2><i class="fa fa-check"></i><span class="break"></span>Showing {{model.total}} failed custom check(s)</h2>
        </div>
        <div class="box-content">
            <div infinite-scroll="loadMoreResults()" infinite-scroll-distance="0" infinite-scroll-disabled="disableLoadingData">
                <div class="scRow" ng-repeat="item in model.data | orderBy: '-reported_at'">
                    <div class="row-fluid">
                        <div class="span4" title="Id: {{item.custom_check_id}}"><strong>{{item.custom_check_id}}</strong></div>
                        <div class="span4" title="Category: {{item.category}}">{{item.category}}</div>
                        <div class="span4 text-right"><sp-moment date="{{item.reported_at}}" /></div>
                    </div>
                    <div class="row-fluid">
                        <div class="span9 text-info"><pre>{{item.failure_reason}}</pre></div>
                        <div class="span3 text-right" title="In: {{item.originating_endpoint.name}} on {{item.originating_endpoint.machine}}">in {{item.originating_endpoint.name}} on {{item.originating_endpoint.machine}}</div>
                    </div>
                    <div class="row-fluid">
                        <div class="span12 text-right"><a tooltip="Mute this custom check so it doesn't show up as an alert" class="btn btn-small btn-link" ng-click="mute(item)"><i class="icon-volume-off"></i> Mute</a></div>
                    </div>
                </div>
                <div class="alert alert-success" ng-show='!loadingData && model.total == 0'>No failed custom checks</div>
                <div class="loading" ng-show='loadingData'></div>
            </div>
        </div>
    </div>
</div>
